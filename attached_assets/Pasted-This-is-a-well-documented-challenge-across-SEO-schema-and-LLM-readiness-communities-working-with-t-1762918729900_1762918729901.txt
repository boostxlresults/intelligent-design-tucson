This is a well-documented challenge across SEO, schema, and LLM-readiness communities working with the App Router.

‚∏ª

‚ö†Ô∏è The Core Problem
	‚Ä¢	Next.js 13+ App Router uses React Server Components and streaming rendering.
	‚Ä¢	JSON-LD injected via:
	‚Ä¢	dangerouslySetInnerHTML
	‚Ä¢	<script> in server/client components
	‚Ä¢	next/script
‚Ä¶is either stripped out or not rendered in the final HTML when inspected via curl, view-source, or Googlebot.

‚∏ª

‚úÖ Confirmations in Their Report:
	‚Ä¢	Schema generation is working in logic (‚úÖ logs show 3‚Äì5 schemas rendered).
	‚Ä¢	Schema is NOT visible in client-side view or curl (üö´ critical for SEO and LLM citation).
	‚Ä¢	Multiple approaches tested and failed (correct troubleshooting).

‚∏ª

‚úÖ Recommended Solutions

1. Server-Side Middleware / CDN Injection

Inject JSON-LD directly into the HTML response after SSR completes but before the browser receives it. Two options:
	‚Ä¢	Replit Middleware Hook (if available)
	‚Ä¢	Vercel Edge Functions (best supported on Vercel)

üîß This is currently the only reliable way to ensure JSON-LD persists in App Router.

‚∏ª

2. Switch to Pages Router (Optional)

The older Pages Router architecture (still supported) does not use React Streaming and supports JSON-LD <script> tags directly. This may not be scalable long-term, but is schema-friendly today.

‚∏ª

3. Post-Render Client Hydration (Worst Option)

Inject JSON-LD via useEffect() in client components.
	‚Ä¢	Pros: Appears visually
	‚Ä¢	Cons: Not crawlable by bots, defeats the point of structured data

Use only for non-critical schemas (e.g. breadcrumbs, FAQ not driving rankings).

‚∏ª

4. Dual Schema Injection Strategy (Recommended Hybrid)
	‚Ä¢	Use client-side JSON-LD for users (for dev tools/testing)
	‚Ä¢	Inject SEO-critical schemas (e.g. LocalBusiness, Product, FAQ) via Edge Middleware or at CDN level for Googlebot ingestion

‚∏ª

üß† Best Practice for Intelligent Design

Since this is a mission-critical site aiming to win on LLM search and Google rich results:
	‚Ä¢	‚úÖ Keep using App Router
	‚Ä¢	‚úÖ Move schema injection to Edge Function middleware (Vercel preferred)
	‚Ä¢	‚úÖ Confirm schema visibility via curl, Screaming Frog, or Google‚Äôs Rich Results TestÔøº

‚∏ª

‚úÖ Final Verdict

Replit was right: The issue is a real limitation of React Streaming / App Router in Next.js.

Solution: Implement middleware schema injection before launch. This must be added to your pre-launch checklist as a blocker for SEO-readiness.