Project goal: Rebuild idesignac.com for extreme speed, bulletproof technical SEO (traditional + AI-assisted), stellar UX/CRO, and easy integration with ServiceTitan (Scheduler + DNI) and Google Tag Manager. Scaffold a complete, production-ready repo with zero follow-ups.

1) Tech Stack & Baseline

Create a Next.js 14 (App Router) + TypeScript project with:

Tailwind CSS + shadcn/ui (Card, Button, Accordion, Input, Dialog, Sheet)

Lucide-react icons

next-seo (page-level SEO config)

next-sitemap (auto XML sitemap + robots.txt)

ESLint + Prettier with opinionated rules

Husky + lint-staged (pre-commit: typecheck, lint, format)

SVGO for SVG optimization

Edge-ready config for fast TTFB where appropriate

2) Env & Config

Use .env with placeholders (do NOT hardcode):

NEXT_PUBLIC_GTM_ID= (e.g., GTM-XXXXXXX)

NEXT_PUBLIC_SERVICETITAN_SCHEDULER_URL= (if using iframe/widget URL)

NEXT_PUBLIC_ST_DNI_SNIPPET= (stringified HTML for DNI, or leave as comment block)

Add next-sitemap.config.js prefilled for https://www.idesignac.com

Add next-seo.config.ts with brand defaults (see Section 7)

3) File/Folder Layout
/app
  /favicon.ico
  /robots.txt        (generated by next-sitemap during build, also keep a default)
  /sitemap.xml       (generated)
  /fonts/            (local fonts if used; preload above-the-fold if needed)
  /api/revalidate/route.ts
  /layout.tsx
  /page.tsx          (Home page)
  /thank-you/page.tsx
  /privacy/page.tsx
  /terms/page.tsx
  /_components/
    /Header.tsx
    /Footer.tsx
    /Hero.tsx
    /TrustBar.tsx
    /CTA.tsx
    /ContactCard.tsx
    /ServiceTiles.tsx
    /ReviewCarousel.tsx
    /SchedulerEmbed.tsx       // ServiceTitan Scheduler
    /DNIInjector.tsx          // ServiceTitan DNI
    /GTM.tsx                  // Google Tag Manager boot
    /FAQ.tsx
    /Schema.tsx               // JSON-LD blocks
    /BadgeWall.tsx
    /UtilityNav.tsx
  /_styles/
    /globals.css
  /_lib/
    /seo.ts
    /schema.ts
    /constants.ts

4) Google Tag Manager & ServiceTitan Scripts

Create <GTM /> component that injects head + noscript body snippets using NEXT_PUBLIC_GTM_ID.

Create <DNIInjector /> component that safely injects the ServiceTitan DNI script (use a placeholder comment with exact location where we’ll paste their snippet).

Create <SchedulerEmbed /> that supports:

A prop for iframeSrc (from NEXT_PUBLIC_SERVICETITAN_SCHEDULER_URL) or

A safe script-loader pattern if ServiceTitan’s scheduler is script-based.

Ensure all scripts use Next.js next/script with strategy="afterInteractive" unless explicitly needed earlier. Keep CLS to zero.

5) Home Page: Conversion + Local SEO Structure

Build /app/page.tsx with a Tucson-optimized layout:

<Hero />: Headline focused on “Tucson HVAC, Plumbing, Roofing & Electric” + subhead highlighting family-owned, 22,000+ 5-star reviews, BBB A+, fast scheduling.

<TrustBar />: Logos (BBB A+, Pearl Certified, Google rating, etc.), “Trusted by Tucson since [year]”.

Primary CTA section with a “Schedule Now” button → opens <SchedulerEmbed /> in a modal (Sheet/Dialog).

<ServiceTiles />: Four tiles (HVAC, Plumbing, Roofing, Electric) with short benefit bullets.

Problem/Solution band: Monsoon prep, water quality, air quality, electrical safety, roof life extension; link to relevant services.

<ReviewCarousel />: 6–10 short reviews with schema.

<BadgeWall />: Awards, associations, financing options, warranties.

<FAQ />: Tucson-centric FAQs + FAQPage schema.

SEO content block (~600–900 words) below the fold: natural headings for core keywords (“HVAC repair Tucson”, “AC installation Tucson”, “water heater repair Tucson”, “roof coating Tucson”, “electric panel upgrade Tucson”, etc.). Make it human and skimmable (short paragraphs, bullets).

<ContactCard />: NAP (Name, Address, Phone), service hours, service area micro-list (Tucson, Oro Valley, Marana, Vail, Sahuarita, Green Valley, Catalina Foothills).

Footer: NAP consistency, legal links, sitemap links, license # if applicable.

Performance requirements:

Use next/image for all brand assets with explicit sizes and width/height.

Lazy-load non-critical sections; avoid layout shift.

No blocking CSS/JS beyond framework minimum.

Target Lighthouse 95+ Performance/SEO/Best Practices/Accessibility.

6) ServiceTitan Integration (DNI + Scheduler)

DNI: Provide a <DNIInjector /> placeholder that mounts near the top of <body> (e.g., in layout.tsx after <GTM />). Leave a TODO comment:

{/* TODO: Paste official ServiceTitan DNI snippet below, or set NEXT_PUBLIC_ST_DNI_SNIPPET and render dangerouslySetInnerHTML. */}


Scheduler: Provide <SchedulerEmbed /> which:

Accepts iframeSrc from env or prop.

Renders in a modal (shadcn/ui Dialog or Sheet) triggered by primary CTAs.

Includes a fallback SSR-safe placeholder (skeleton) and no CLS on open.

7) SEO Defaults & JSON-LD

Add next-seo default config in next-seo.config.ts with:

Title template: Intelligent Design Tucson | %s

Default title: HVAC, Plumbing, Roofing & Electric in Tucson, AZ

Description: Tucson-specific, benefits, credibility (22,000+ reviews, BBB A+).

Open Graph (logo, social preview), Twitter cards.

Add Schema.tsx to output JSON-LD:

Organization with sameAs links (GBP, Facebook, Yelp, BBB, YouTube).

LocalBusiness (HVACContractor + Plumber + Roofer + Electrician subtypes where appropriate), NAP, geo, openingHours, serviceArea.

BreadcrumbList for homepage and deeper pages.

FAQPage for the FAQ component.

8) Accessibility & UX

Semantic headings (one <h1> in hero, descending order).

Focus states and keyboard nav.

Sufficient contrast ratios (Tailwind tokens).

Skip-to-content link.

9) Pages & Routing

Create /thank-you for form/scheduler confirmations.

Create /privacy and /terms as simple starter pages with structured headings.

Provide revalidateTag helper and /api/revalidate route for ISR (comment how to trigger revalidation by tag).

10) Content Placeholders (Tucson + Conversions)

Seed the home page with realistic Tucson-centric copy blocks and headings that:

Naturally include target phrases: “Tucson HVAC”, “AC repair Tucson”, “water heater repair Tucson”, “roof coating Tucson”, “electric panel upgrade Tucson”.

Respect E-E-A-T signals (experience examples, warranties, guarantees, 24/7 availability if applicable).

Include clear, frequent CTAs (Schedule, Call, Chat).

11) Scripts: Exact Snippet Contracts

GTM Component example (use env var):

// app/_components/GTM.tsx
"use client";
import Script from "next/script";

export default function GTM() {
  const id = process.env.NEXT_PUBLIC_GTM_ID;
  if (!id) return null;
  return (
    <>
      <Script id="gtm-init" strategy="afterInteractive">
        {`
          (function(w,d,s,l,i){w[l]=w[l]||[];w[l].push({'gtm.start':
          new Date().getTime(),event:'gtm.js'});var f=d.getElementsByTagName(s)[0],
          j=d.createElement(s),dl=l!='dataLayer'?'&l='+l:'';j.async=true;j.src=
          'https://www.googletagmanager.com/gtm.js?id='+i+dl;f.parentNode.insertBefore(j,f);
          })(window,document,'script','dataLayer','${id}');
        `}
      </Script>
      {/* Noscript companion inserted in layout.tsx body */}
    </>
  );
}


In layout.tsx body, add the noscript frame:

<noscript>
  <iframe src={`https://www.googletagmanager.com/ns.html?id=${process.env.NEXT_PUBLIC_GTM_ID}`} height="0" width="0" style={{display:'none',visibility:'hidden'}} />
</noscript>


ServiceTitan DNI placeholder:

// app/_components/DNIInjector.tsx
"use client";
import Script from "next/script";

export default function DNIInjector() {
  // Prefer pasting the official snippet below. If provided via env, you can render with dangerouslySetInnerHTML.
  return (
    <>
      {/* TODO: Paste official ServiceTitan DNI script exactly as provided.
          If you must use env:
          <div dangerouslySetInnerHTML={{ __html: process.env.NEXT_PUBLIC_ST_DNI_SNIPPET || '' }} />
      */}
      <Script id="servicetitan-dni" strategy="afterInteractive">
        {`
          /* Placeholder: paste official ServiceTitan DNI code here */
        `}
      </Script>
    </>
  );
}


ServiceTitan Scheduler embed:

// app/_components/SchedulerEmbed.tsx
"use client";
import { Dialog, DialogContent, DialogTrigger } from "@/components/ui/dialog";
import { Button } from "@/components/ui/button";

export default function SchedulerEmbed({
  triggerText = "Schedule Now",
  iframeSrc = process.env.NEXT_PUBLIC_SERVICETITAN_SCHEDULER_URL,
}: { triggerText?: string; iframeSrc?: string }) {
  return (
    <Dialog>
      <DialogTrigger asChild>
        <Button size="lg">{triggerText}</Button>
      </DialogTrigger>
      <DialogContent className="max-w-5xl w-full h-[80vh] p-0">
        {iframeSrc ? (
          <iframe
            title="ServiceTitan Scheduler"
            src={iframeSrc}
            className="w-full h-full"
            loading="lazy"
          />
        ) : (
          <div className="p-6 text-sm">
            Scheduler coming online—please set NEXT_PUBLIC_SERVICETITAN_SCHEDULER_URL.
          </div>
        )}
      </DialogContent>
    </Dialog>
  );
}

12) Performance Guardrails (CI notes)

Add package.json scripts:

build, start, lint, typecheck, format, analyze (bundle analyzer optional).

Add a simple Lighthouse CI or @calibre/cli script example (commented) so we can enforce budgets later.

Ensure images are optimized, CLS 0, and primary CTA interactive < 100ms after idle.

13) README

Create a README.md that documents:

How to run, build, and deploy on Replit

Where to paste GTM, ServiceTitan DNI, and how to set NEXT_PUBLIC_SERVICETITAN_SCHEDULER_URL

How to add new service pages with SEO + JSON-LD

How to run prettier/lint/typecheck and commit hooks

How to update sitemap/robots via next-sitemap

14) Deliverables

A compiling, running Next.js app in Replit with all components wired

Home page fully structured and styled, with placeholder Tucson content

GTM + DNI components present and ready

Scheduler modal working with env URL (placeholder if not yet set)

Sitemap/robots generated on build

JSON-LD components ready and rendering